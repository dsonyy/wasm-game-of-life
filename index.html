<html>
	<head>
		<meta charset="utf-8">
		<script src="wasm_exec.js"></script>
	</head>
	<body>
		</style>
		<canvas id="game" data-conways width="300px" height="300px" style="background-color: red">
		</canvas>


		<script>
			function loop() {
				iterate();
			}

			new Promise(function(resolve, reject) {
				const go = new Go();
				WebAssembly.instantiateStreaming(fetch("main.wasm"), go.importObject).then((result) => {
					go.run(result.instance);
				});
				setTimeout(resolve, 2000);
			}).then(function() {
				loop();
			}).catch(function() {

			});
		</script>
	</body>
</html>
